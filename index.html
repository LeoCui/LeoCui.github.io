<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>仰望星空</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="仰望星空">
<meta property="og:url" content="http://leocui.github.io/index.html">
<meta property="og:site_name" content="仰望星空">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="仰望星空">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  


</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">仰望星空</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Keep your eyes on stars and feet on the ground</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/about">Aboat</a>
        
      </nav>
      <nav id="sub-nav">
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://leocui.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-今天我又把服务器搞挂了" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/01/11/今天我又把服务器搞挂了/" class="article-date">
  <time datetime="2017-01-11T08:59:32.000Z" itemprop="datePublished">2017-01-11</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux/">Linux<span class="article-category-count">4</span></a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/01/11/今天我又把服务器搞挂了/">今天我又把服务器搞挂了</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>今天我又把服务器搞挂了，咦，我为什么要说又？哦，上次是由于运行fragroute的时候把路由表修改了，导致ssh命令无法使用，连接不到服务器，路由表项删掉就没事了。</p>
<p>如果说上次还是小问题的话，那么这次就是大问题了，因为我这次是真的把服务器搞挂了，重启都没用。</p>
<p>事情还要从前两天说起，我用sapp平台发IP包的时候，分过片的就是无法发出去，其实也不是发不出去，而是协议栈直接把我分过片的包重组后再发出去，这样的话我的逃逸就没用了。所以本来打算直接从MAC层发过去的，但是坑爹的是Sapp平台的话发包很麻烦，也收不到MAC层的包。佳哥建议我换个低一点的系统试一下，RedHat 7.2肯定是不行了。然后我就去试了试227那台服务器。</p>
<p>问题来了，当我尝试在227上运行SAPP时，提示我”libc.so.6: version `GLIBC_2.14’ not found”，然后我想当然的认为是缺少lib.so.6这个库，就从203那里复制了一个进来，没想到scp命令刚刚执行完就跪了，马上断开连接。服务器跪了，重启也不行。事后才发现原来这个库是很重要的库，复制进来的库把原来的库覆盖了，但是新的库和操作系统并不兼容，所以就跪了。</p>
<p>而且，而且，我搞挂了2台服务器，前一天晚上我搞挂了227，但是我当时并不确定是我那个操作弄挂的。第二天又找来yng师兄看着我重复，刚刚执行完scp就又挂了。这才确定，然后赶紧去找运维人员。</p>
<p>由此得到的教训：</p>
<ul>
<li>遇到问题不要想当然，如果我先查一下就不会有这么多问题了。</li>
<li>涉及到更改系统库的操作时一定要小心小心再小心。</li>
<li>技术上来讲，libc.so.6是一个软连接（因为版本号在后面，如果是文件的话，版本号应该在中间），因为我把libc.so.6改了，原来指向glibc 2.12,现在指向glibc 2.17,但是系统并没有glic2.17这个版本。所以操作系统就崩溃了。正确的做法应该是先安装glibc 2.17,然后再把libc.so.6改过来。</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://leocui.github.io/2017/01/11/今天我又把服务器搞挂了/" data-id="cixv9jzxa0015vds6qzoqauk3" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/">Linux</a><span class="article-tag-list-count">4</span></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/教训/">教训</a><span class="article-tag-list-count">1</span></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/服务器/">服务器</a><span class="article-tag-list-count">1</span></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-图片像素和分辨率的一些知识" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/01/01/图片像素和分辨率的一些知识/" class="article-date">
  <time datetime="2017-01-01T13:29:14.000Z" itemprop="datePublished">2017-01-01</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/其他/">其他<span class="article-category-count">2</span></a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/01/01/图片像素和分辨率的一些知识/">图片像素和分辨率的一些知识</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ul>
<li>像素：实际上就是显示器上的一个一个点，可以把显示器想象成一个个坑（矩阵），由照片上的信息将它填满。</li>
<li>分辨率：本来是用来描述单位长度的像素点的。用PPI或者DPI更准确。<br>但是现在一般都混用，一般用长宽的像素点个数来表示。</li>
<li>屏幕分辨率：1280p<em>720p指的就是长有1280个像素点，宽有720个像素点，一张1280 </em>720照片就可以填满屏幕，更大就需要滚轮了。</li>
<li>照片分辨率：1280p*720p,指的就是这张照片长有1280个像素点，宽有720个像素点</li>
<li>照片如何显示: 照片的尺寸=照片的像素/显示器的ppi</li>
<li>照片放大：本来10英寸，抢先拉大到20，那么显示器的有些像素点就填不满，所以就不清楚了。</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://leocui.github.io/2017/01/01/图片像素和分辨率的一些知识/" data-id="cixv9jzxp001ivds6xjlre9qq" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/像素/">像素</a><span class="article-tag-list-count">1</span></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/分辨率/">分辨率</a><span class="article-tag-list-count">1</span></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-尝试用AE做年会视频" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/01/01/尝试用AE做年会视频/" class="article-date">
  <time datetime="2017-01-01T13:02:11.000Z" itemprop="datePublished">2017-01-01</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/其他/">其他<span class="article-category-count">2</span></a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/01/01/尝试用AE做年会视频/">尝试用AE做年会视频</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>最近需要帮组里的年会做个视频，需要用到AE，之前完全没有接触过，前前后后做了一个星期，最终通过套模板+学习教程也算是交差了。现在小小总结一下，以后可能也用的到。</p>
<ul>
<li>AE的基本单位是合成，所以最好把每个模块都做成合成的形式。</li>
<li>视频的编码和格式：<ul>
<li>编码:一般指的是压缩的方式，如H.264，MPEG-4等，这个直接影响视频的大小。视频先编码，播放的时候再由相应的解码器来解码。我做了个实验，将做好的视频再用tar等方式压缩大小不变，因为已经压缩过了。</li>
<li>格式：如mov,avi等，这个值得是视频的打包方式，因为视频一般还包括音频，等其他信息，这个格式值得就是视频的组织方式。</li>
</ul>
</li>
<li>输出格式：AE渲染的视频都非常大。这里可以调小的话一般可以选择：<ul>
<li>H.264/MPEG4,而不是无损</li>
<li>调节尺寸，可以选择720p等，一般不建议，因为这样放到显示器上无法铺满屏幕,现在屏幕的分辨率都很高了。</li>
</ul>
</li>
<li>快捷键<ul>
<li>command+shift+d 切割视频</li>
<li>command+x   删除</li>
<li>command+i 插入素材</li>
<li>command+k 修改时长</li>
<li>右键-&gt;time stretch: 快进放慢</li>
<li>左下角三个键前两个点灭： 调节时间轴面板</li>
</ul>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://leocui.github.io/2017/01/01/尝试用AE做年会视频/" data-id="cixv9jzxx001vvds6ulq220ae" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/AE/">AE</a><span class="article-tag-list-count">1</span></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Vim中的常见操作" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/01/01/Vim中的常见操作/" class="article-date">
  <time datetime="2017-01-01T11:24:10.000Z" itemprop="datePublished">2017-01-01</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Vim/">Vim<span class="article-category-count">1</span></a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/01/01/Vim中的常见操作/">Vim中的常见操作</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ul>
<li>几种模式<ul>
<li>Normal模式：按Esc进入</li>
<li>Insert模式：按i进入</li>
<li>Visual模式：按v进入</li>
</ul>
</li>
<li>Vim 中复制粘贴：<ul>
<li>选中，然后右键，这种缺点会将行号也复制进去</li>
<li>Visual模式下，用上下箭头选中，然后按y复制，按p粘贴</li>
<li>Normal模式下，输入row1,row2+y，表示复制从row1到row2的行，然后找到指定位置按p粘贴</li>
</ul>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://leocui.github.io/2017/01/01/Vim中的常见操作/" data-id="cixv9jzwf0009vds6yhfw5oeh" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Vim/">Vim</a><span class="article-tag-list-count">1</span></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-牛客网编程题" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/11/25/牛客网编程题/" class="article-date">
  <time datetime="2016-11-25T10:27:23.000Z" itemprop="datePublished">2016-11-25</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/面试题/">面试题<span class="article-category-count">1</span></a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/11/25/牛客网编程题/">面试经典编程题</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ul>
<li><p>1：给定一个字符串，删去几个字符，使其成为回文串，求最少要删去几个字符<br>A：reverse字符串，求两个字符串的最长公共子序列为len,总长度减去len就是结果</p>
</li>
<li><p>2：求最长回文子序列<br>A: reverse字符串，求两个串的最长公共子序列</p>
</li>
<li><p>3：最长回文子串<br> A:以一点为中心向外拓展法          </p>
</li>
<li><p>4：reverse链表<br><a href="https://leetcode.com/submissions/detail/84872614/" target="_blank" rel="external">查看代码</a></p>
</li>
<li><p>5：各种排序，冒泡，插入，选择，归并，快排，堆排序<br><a href="">查看链接</a></p>
</li>
</ul>
<ul>
<li><p>6：最大子数组和(dp)            </p>
<pre><code>[查看代码](https://leetcode.com/submissions/detail/84085745/)
</code></pre></li>
<li><p>7：编辑距离问题<br>  <a href="https://leetcode.com/submissions/detail/90513333/" target="_blank" rel="external">查看代码</a></p>
</li>
<li></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://leocui.github.io/2016/11/25/牛客网编程题/" data-id="cixv9jzy30020vds6aibr92k3" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/编程题/">编程题</a><span class="article-tag-list-count">1</span></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/面试/">面试</a><span class="article-tag-list-count">1</span></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-linux基础知识" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/11/14/linux基础知识/" class="article-date">
  <time datetime="2016-11-14T12:39:07.000Z" itemprop="datePublished">2016-11-14</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux/">Linux<span class="article-category-count">4</span></a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/11/14/linux基础知识/">linux基础知识</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">文件的类型					linux				windows</div><div class="line"></div><div class="line">二进制文件					.o  				.obj</div><div class="line">静态链接库					.a  				.lib</div><div class="line">动态链接库					.so 				.dll</div><div class="line">可执行文件					.out				.exe</div><div class="line">文件的格式					ELF 				PE</div><div class="line"></div><div class="line">//二进制文件有叫目标文件，每个.c文件编译后产生的</div><div class="line">//静态链接库是很多目标文件的集合</div></pre></td></tr></table></figure>
<ul>
<li>linux可执行文件结构: elf, windows:PE ,macos: mach-o<br>(值得注意的是，压缩文件在mac上先解压在压缩后在linux下再解压就打不开了,所以copy一般都是tar.gz文件)</li>
<li>有时程序显示无法load  .so 文件,跟环境变量无关，系统加载环境变量一般在/usr/lib中找，如果要改的话<br>1.将so文件移到/usr/lib中。<br>2.设置软链接，链接到/usr/lib中<br>3.修改/etc/ld.so.conf文件，加入自己的路径</li>
<li></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://leocui.github.io/2016/11/14/linux基础知识/" data-id="cixv9jzxc0018vds6zjw6vysc" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux/">linux</a><span class="article-tag-list-count">1</span></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-gdb命令总结" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/11/03/gdb命令总结/" class="article-date">
  <time datetime="2016-11-03T10:35:50.000Z" itemprop="datePublished">2016-11-03</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux/">Linux<span class="article-category-count">4</span></a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/11/03/gdb命令总结/">gdb命令总结</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ul>
<li>list+行号(函数名)：查看某一行(函数)的代码</li>
<li>break+file.c:行号: 在某个文件设置断点，如果只有一个文件则不需要</li>
<li>start: 停在main函数第一条</li>
<li>run(r):   开始运行，停在断点处</li>
<li>continue(c): 继续运行，停在下一个断点</li>
<li>next(n): 单步执行</li>
<li>p :  查看变量</li>
<li>step(s): 进入函数</li>
<li>quit(q): 退出gdb</li>
<li>info threads: 显示所有线程信息</li>
<li>gdb调试带参数的程序如main： gdb main ，r a b c ，abc为参数</li>
<li>bt: backtrace,打印当前的函数调用栈信息</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://leocui.github.io/2016/11/03/gdb命令总结/" data-id="cixv9jzwt000pvds61llm6n5v" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/gdb命令/">gdb命令</a><span class="article-tag-list-count">1</span></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Leetcode常见技巧" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/11/03/Leetcode常见技巧/" class="article-date">
  <time datetime="2016-11-03T10:22:42.000Z" itemprop="datePublished">2016-11-03</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/c-c/">c/c++<span class="article-category-count">7</span></a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/11/03/Leetcode常见技巧/">Leetcode常用技巧</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ul>
<li>earse的删除操作:</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">for(iter=vector.begin();iter!=vector.end();)&#123;</div><div class="line">	if(*iter==val)&#123;</div><div class="line">		iter=iter.erase();</div><div class="line">		//erase返回被删除元素后一个或者vector.end()</div><div class="line">	&#125;</div><div class="line">	else&#123;</div><div class="line">		iter++;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>erase的sort()</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">sort(vector.begin(),vertor.end(),cmp);</div><div class="line">bool cmp(type a,type b)&#123;</div><div class="line">	</div><div class="line">&#125; //cmp函数的意义：如果返回true,就保持a,b这样的顺序</div></pre></td></tr></table></figure>
<ul>
<li>在处理一些边界条件不好处理时，比如处理矩阵时要看四周，这时对于边界情况就不好处理，常见的方法是在周围加一圈，但是现在有更好的办法。   <ul>
<li>在边界时不成立： （j不在边界）&amp;&amp;（）—-在边界为0，后面不用算</li>
<li>在边界时成立：（j在边界）||（）—在边界时直接为1</li>
</ul>
</li>
<li>常用的reverse(x.begin(),x.end())在库algorithm中</li>
<li>INT_MIN,INT_MAX</li>
<li>二分法的时候：常用mid=left+(right-left)/2,我之前一直以为和mid=(left+right)/2一样。今天才发现不是这样的：   </li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">left=1;</div><div class="line">right=INT_MAX;</div><div class="line">while(left&lt;=right)&#123;</div><div class="line">	mid=(left+right)/2;  //错误，整数溢出了，mid算成负数了</div><div class="line">	mid=left+(right-left)/2;  //正确</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>子串：必须连续<br>子序列：不必连续</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://leocui.github.io/2016/11/03/Leetcode常见技巧/" data-id="cixv9jzwj000evds6qlpxlrl0" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/leetcode/">leetcode</a><span class="article-tag-list-count">1</span></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/stl/">stl</a><span class="article-tag-list-count">1</span></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-c语言gets和scanf的区别" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/11/03/c语言gets和scanf的区别/" class="article-date">
  <time datetime="2016-11-03T09:04:43.000Z" itemprop="datePublished">2016-11-03</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/c-c/">c/c++<span class="article-category-count">7</span></a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/11/03/c语言gets和scanf的区别/">c语言gets和scanf的区别</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="今天在写项目的时候遇到了读入不定字符串的问题，涉及到scanf和gets的区别，之前在这个问题上一直没有彻底弄懂，现在总结下。"><a href="#今天在写项目的时候遇到了读入不定字符串的问题，涉及到scanf和gets的区别，之前在这个问题上一直没有彻底弄懂，现在总结下。" class="headerlink" title="今天在写项目的时候遇到了读入不定字符串的问题，涉及到scanf和gets的区别，之前在这个问题上一直没有彻底弄懂，现在总结下。"></a>今天在写项目的时候遇到了读入不定字符串的问题，涉及到scanf和gets的区别，之前在这个问题上一直没有彻底弄懂，现在总结下。</h3><ul>
<li><p>二者在读入字符串时都会在后面加上\0</p>
</li>
<li><p>scanf在遇到空格，回车，tab的时候停止输入，并且将这些（空格，回车，tab）留在输入缓冲区中。</p>
</li>
<li>gets遇到回车会停止输入，并且清空输入缓冲区</li>
<li>scanf发现缓冲区有空格，tab,回车会跳过这些继续等待输入</li>
<li>gets,getchar等遇到缓冲区有空格，tab，回车会读入，然后清空缓冲区。</li>
<li>值得一提的是，二者都是不安全的，容易读入恶意代码被攻击。<h3 id="然后在具体的应用中，比如读入未知个数的int-string等-ctrl-z结束（linux下ctrl-d）"><a href="#然后在具体的应用中，比如读入未知个数的int-string等-ctrl-z结束（linux下ctrl-d）" class="headerlink" title="然后在具体的应用中，比如读入未知个数的int,string等,ctrl+z结束（linux下ctrl+d）"></a>然后在具体的应用中，比如读入未知个数的int,string等,ctrl+z结束（linux下ctrl+d）</h3></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">while(scanf(&quot;%s&quot;))&#123;</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line">--------------------------</div><div class="line">while(gets(str))&#123;</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line">---------------------------</div><div class="line"></div><div class="line">scnaf(&quot;%d&quot;,&amp;a);</div><div class="line">getchar(); //读入缓冲区遗留的回车</div><div class="line">gets(str);</div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://leocui.github.io/2016/11/03/c语言gets和scanf的区别/" data-id="cixv9jzwm000ivds6ibuntbsv" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/c语言/">c语言</a><span class="article-tag-list-count">3</span></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/gets/">gets</a><span class="article-tag-list-count">1</span></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/scanf/">scanf</a><span class="article-tag-list-count">1</span></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-linux命令" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/10/24/linux命令/" class="article-date">
  <time datetime="2016-10-24T06:26:22.000Z" itemprop="datePublished">2016-10-24</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux/">Linux<span class="article-category-count">4</span></a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/10/24/linux命令/">linux命令</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="查用法：-man-命令-man中搜索用-vim同"><a href="#查用法：-man-命令-man中搜索用-vim同" class="headerlink" title="查用法： man+命令(man中搜索用/,vim同)"></a>查用法： man+命令(man中搜索用/,vim同)</h3><ul>
<li><p>读懂man 命令：–跟单词，-跟字母，[]表示可选，[-z,–gzip]实际上是一个参数，不同写法。</p>
<h5 id="grep-golbal-search-regular-expression-and-print"><a href="#grep-golbal-search-regular-expression-and-print" class="headerlink" title="grep: golbal search regular expression and print"></a>grep: golbal search regular expression and print</h5></li>
<li><p>查看版本信息： lsb_release -a</p>
</li>
<li>/表示根目录，~表示HOME目录</li>
<li>删除文件夹：   rm -rf      </li>
<li>建立文件夹 ：  mkdir</li>
<li>复制文件夹  ： copy -r</li>
<li>查看端口占用情况 ： netstat -antp | grep 8080</li>
<li>杀死某进程 ：  kill -9 pid</li>
<li>查看进程信息 ： ps</li>
<li>全盘搜索某文件：  locate+文件名</li>
<li>设置软链接  ：ln -s src  dst(必须完整路径，如ln -s /home/a.cpp /usr/lib/a.cpp),删除按照普通文件处理就行</li>
<li>查看动态链接库： ldd+程序名（完整路径，环境变量无效，不知道为什么）</li>
<li>查看可执行文件位置： whereis</li>
<li>模拟tcp,ip通信神器：nc</li>
<li>捕获包：tcpdump</li>
<li>搜索历史命令： ctrl+r</li>
<li>搜索指文件夹中的字符串： grep -rn keyword ./   表示递归搜索当前目录下的所有文件</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://leocui.github.io/2016/10/24/linux命令/" data-id="cixv9jzx70012vds6l130ofp7" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux命令/">linux命令</a><span class="article-tag-list-count">1</span></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/">下一页</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Vim/">Vim</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/c-c/">c/c++</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/">java</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/其他/">其他</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/操作系统/">操作系统</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/计算机基础/">计算机基础</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/计算机网络/">计算机网络</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/面试题/">面试题</a><span class="category-list-count">1</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/AE/" style="font-size: 10px;">AE</a> <a href="/tags/GB2312/" style="font-size: 10px;">GB2312</a> <a href="/tags/Linux/" style="font-size: 20px;">Linux</a> <a href="/tags/Vim/" style="font-size: 10px;">Vim</a> <a href="/tags/arp/" style="font-size: 10px;">arp</a> <a href="/tags/c-c/" style="font-size: 15px;">c/c++</a> <a href="/tags/cpu位数/" style="font-size: 10px;">cpu位数</a> <a href="/tags/c语言/" style="font-size: 15px;">c语言</a> <a href="/tags/gdb命令/" style="font-size: 10px;">gdb命令</a> <a href="/tags/gets/" style="font-size: 10px;">gets</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/github/" style="font-size: 10px;">github</a> <a href="/tags/hello-hexo/" style="font-size: 10px;">hello hexo</a> <a href="/tags/java/" style="font-size: 10px;">java</a> <a href="/tags/leetcode/" style="font-size: 10px;">leetcode</a> <a href="/tags/linux/" style="font-size: 10px;">linux</a> <a href="/tags/linux命令/" style="font-size: 10px;">linux命令</a> <a href="/tags/markdown/" style="font-size: 10px;">markdown</a> <a href="/tags/scanf/" style="font-size: 10px;">scanf</a> <a href="/tags/stl/" style="font-size: 10px;">stl</a> <a href="/tags/unicode/" style="font-size: 10px;">unicode</a> <a href="/tags/utf-8/" style="font-size: 10px;">utf-8</a> <a href="/tags/像素/" style="font-size: 10px;">像素</a> <a href="/tags/分辨率/" style="font-size: 10px;">分辨率</a> <a href="/tags/声明和定义/" style="font-size: 10px;">声明和定义</a> <a href="/tags/外部变量/" style="font-size: 10px;">外部变量</a> <a href="/tags/多线程/" style="font-size: 10px;">多线程</a> <a href="/tags/并发/" style="font-size: 10px;">并发</a> <a href="/tags/总线/" style="font-size: 10px;">总线</a> <a href="/tags/指针/" style="font-size: 10px;">指针</a> <a href="/tags/操作系统/" style="font-size: 10px;">操作系统</a> <a href="/tags/教训/" style="font-size: 10px;">教训</a> <a href="/tags/时间函数/" style="font-size: 10px;">时间函数</a> <a href="/tags/服务器/" style="font-size: 10px;">服务器</a> <a href="/tags/环境变量/" style="font-size: 10px;">环境变量</a> <a href="/tags/编码/" style="font-size: 10px;">编码</a> <a href="/tags/编程题/" style="font-size: 10px;">编程题</a> <a href="/tags/编译原理/" style="font-size: 10px;">编译原理</a> <a href="/tags/网络/" style="font-size: 10px;">网络</a> <a href="/tags/计算机组成原理/" style="font-size: 10px;">计算机组成原理</a> <a href="/tags/进程控制/" style="font-size: 10px;">进程控制</a> <a href="/tags/锁/" style="font-size: 10px;">锁</a> <a href="/tags/面试/" style="font-size: 10px;">面试</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">October 2016</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">April 2016</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">November 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">October 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">May 2015</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/01/11/今天我又把服务器搞挂了/">今天我又把服务器搞挂了</a>
          </li>
        
          <li>
            <a href="/2017/01/01/图片像素和分辨率的一些知识/">图片像素和分辨率的一些知识</a>
          </li>
        
          <li>
            <a href="/2017/01/01/尝试用AE做年会视频/">尝试用AE做年会视频</a>
          </li>
        
          <li>
            <a href="/2017/01/01/Vim中的常见操作/">Vim中的常见操作</a>
          </li>
        
          <li>
            <a href="/2016/11/25/牛客网编程题/">面试经典编程题</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 LeoCui<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/about" class="mobile-nav-link">Aboat</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>